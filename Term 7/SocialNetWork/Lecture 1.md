许多经济、政治和社会互动都受到局部关系结构的影响：
– 商品和服务的贸易，大多数市场并非中心化的！…
– 信息、人情、风险等的共享…
– 病毒、观点的传播…
– 就业信息的获取…
– 行为、教育等的选择…
– 政治联盟、贸易联盟…

• 社会网络影响行为
– 犯罪、就业、人力资本、投票、吸烟…

• 重要的网络结构
– 金融网络
– 线上网络 – Facebook、Twitter、WeChat 等…
– 村庄中的关系

### 综合

• 许多学科文献都涉及对网络的研究
– 经济学
– 社会学
– 计算机科学
– 统计物理学
– 数学（随机图论）
– 流行病学…

### 网络研究的发展

• **重要性**
– 人类是社会性物种
– 社会关系（“关系”）是行为的关键

• **可用性**
– 大量的数据，尤其是在近十年内
– 近年来在数据分析、实验和理论方面的新工具

## 主要问题

### 描述 —— 我们对网络结构了解什么？

### 网络如何影响行为？
- 意见、投资、资产选择、移民等  
- 扩散、营销、金融稳定性、人才配置  

### 网络形成
- 网络是如何形成的？（均衡）  
- 是否形成了“正确的”网络？（效率）  


## 大纲

- **第一部分：背景与基础**
  - 网络的定义与特征（第1、2章）  
  - 实证背景（第3章）  

- **第二部分：网络形成**
  - 随机网络模型（第4、5章）  
  - 战略性网络模型（第6、11章）  

- **第三部分：网络与行为**
  - 扩散与学习（第7、8章）  
  - 网络上的博弈（第9章）  
  …  

（所有章节编号均基于 Jackson (2008)）


## 热身

**问题：在仅有30个节点的情况下，可以有多少个网络？**

---

### 1.2 定义与符号

#### 我们始终面临的一个挑战

**问题：在仅有30个节点的情况下，可以有多少个网络？**

- 个体1可能有29个潜在连接，个体2可能有28个（不计入与1的连接），依此类推，总计 $= 435$  
- 因此共有 $435$ 条潜在的边，每条边要么存在要么不存在  
- 所以：  
  $$
  2 \times 2 \times 2 \ldots \ (\text{435 次}) \ = \ 2^{435}
  $$  
  个网络  

> 顺便一提，宇宙中的原子数：介于 $2^{158}$ 和 $2^{246}$ 之间  

---

### 简化复杂性……

#### 一些值得关注的性质

- **宏观（整体，聚合层面）**
  - 距离/直径  
  - 连通分量  
  - 度分布  

- **微观（局部，个体层面）**
  - 度  
  - 聚类 —— 共同朋友  
  - 中心性（多种定义）  

---

### 网络的表示

**网络 $(N,g)$：**

- $N=\{1,\ldots,n\}$：节点（或顶点、参与者、代理人……）  
- $g \in \{0,1\}^{n \times n}$：邻接矩阵（无权，可能有向）  
- $g_{ij} = 1$：表示 $i$ 与 $j$ 之间存在一条连接、关系或边  
- 替代符号：若 $i$ 与 $j$ 相连，则记为 $ij \in g$  

## 邻域与度

- **邻域（Neighborhood）：**  
  $N_i(g) = \{ j \mid ij \in g \}$  
  （通常约定：$ii \notin g$）  

- **度（Degree）：**  
  $d_i = \# N_i(g)$  

---

## 节点的连接

- **游走（Walk）：**  
  从 $i_1$ 到 $i_K$ 的游走是一个节点序列 $(i_1, i_2, \ldots, i_K)$ 和一系列连接  
  $(i_1i_2, i_2i_3, \ldots, i_{K-1}i_K)$，其中每个 $i_{k-1}i_k \in g$。  

  通常更方便的表示方式是相应的节点序列：  
  $(i_1, i_2, \ldots, i_K)$  

- **路径（Path）：**  
  一个游走 $(i_1,i_2,\ldots,i_K)$，其中每个节点 $i_k$ 都是不同的。  

- **环（Cycle）：**  
  一个游走，且 $i_1 = i_K$。  

- **测地线（Geodesic）：**  
  两个节点之间的最短路径。  

---

## 1.3 连通分量

- 若在 $(N,g)$ 中，任意两节点之间都存在一条路径，则称该网络是**连通的（connected）**。  

- **连通分量（Component）：** 最大的连通子图。  
  - $(N',g')$ 是 $(N,g)$ 的一个子集；  
  - $(N',g')$ 是连通的；  
  - 若 $i \in N'$ 且 $ij \in g$，则 $j \in N'$ 且 $ij \in g'$。  

## 1.4：直径（Diameter）

### 直径与平均路径长度
- 节点彼此有多“近”？  
- 到达一个平均节点需要多长的路径？  
- 信息/疾病传播有多快？……  
- 这如何取决于网络密度等因素？

---

### 直径
- **直径（Diameter）**：最大的测地线长度（即最大的最短路径长度）  
  - 若网络不连通，通常指**最大连通分量**中的直径  
- **平均路径长度（Average path length）**：  
  - 对极端值不那么敏感（**less prone to outliers**）

---

### 直径：示例与数量级

- **$K$ 层（levels）的二叉树**有  
  $$
  n = 2^{K+1} - 1 \ \text{个节点},
  \quad \text{因此} \quad K = \log_2(n+1) - 1,
  $$
  其直径为  
  $$
  2K .
  $$
![[Pasted image 20250919210909.png]]

- **环（ring）** 的直径为  
  $$
  \frac{n}{2} \ \text{或} \ \frac{n-1}{2}.
  $$
![[Pasted image 20250919210952.png]]
- **Cayley（或正则/同质）树**的直径数量级为  
  $$
  2 \log_2(n+1).
  $$

## Cayley 树（Cayley Tree）

**定义**：Cayley 树是一类特殊的树图，其中每个非叶节点都有一个固定数目的分支。若每个非叶节点都有 $n$ 个分支，则称之为 **$n$-Cayley 树**。  

- **2-Cayley 树**：等价于路径图（path graph）。  
- **唯一的 $n$-Cayley 树**：在 $n+1$ 个节点上的唯一 $n$-Cayley 树是**星形图（star graph）**。  

---

### 例子

- **3-Cayley 树**（也称为三价树 *trivalent trees*，二叉树 *binary trees*，或硼树 *boron trees*）  
  - 这些是每个非叶节点的度为3的树。  
  - 节点度数要么为1（叶子），要么为3。  
  - 在 $n=1,2,\ldots$ 个节点上的 3-Cayley 树数量为：  
    $$
    1, \ 1, \ 0, \ 1, \ 0, \ 1, \ 0, \ 1, \ 0, \ 2, \ 0, \ 2, \ 0, \ 4, \ 0, \ 6, \ 0, \ 11, \ldots
    $$
    （OEIS A052120）
![[Pasted image 20250919211652.png]]
- **4-Cayley 树** 和 **5-Cayley 树**：  
  类似定义，每个非叶节点分别具有4或5个分支。

---

### 总结
- Cayley 树是一类**规则树（regular trees）**，在数学、物理和网络科学中广泛使用。  
- 例如，在研究网络直径时，Cayley 树的直径数量级为  
  $$
  2 \log_2(n+1).
  $$

---

### 树中的直径

**命题（Proposition）**：设一棵含有 $n$ 个节点的树中，除叶子外每个节点的度为 $d$（即每个非叶子节点有 $d$ 条边，叶子节点的度为 $d-1$）。则其直径的数量级为
$$
r \sim \frac{\log(n)}{\log(d)}.
$$

**练习（Exercise）**：为什么？试着证明这一点。

## 树中的直径（Diameter in Trees）

- **第1步**：从根节点出发，可以到达 $d$ 个节点；  
- **第2步**：可以到达 $d(d-1)$ 个节点；  
- **第3步**：可以到达 $d(d-1)^2$ 个节点；  
- **第4步**：可以到达 $d(d-1)^3$ 个节点；  
- ……

因此，在 $r$ 步之后，总共大约可以到达  
$$
d^r
$$  
个节点。

---

### 更精确的计算

从根节点向外扩展 $r$ 步（即 $r$ 层），能够覆盖的节点总数为：  

$$
d + d(d-1) + d(d-1)^2 + \cdots + d(d-1)^{r-1}.
$$

这是一个几何级数：  

$$
\text{节点数} = \frac{d\big((d-1)^r - 1\big)}{d-2}.
$$

当 $r$ 较大时，上式近似为：  

$$
(d-1)^r.
$$

---

### 推论：直径数量级

为了覆盖 $n$ 个节点，需要满足：  

$$
(d-1)^r \approx n.
$$

因此直径 $r$ 的数量级为：  

$$
r \sim \frac{\log(n)}{\log(d)}.
$$

